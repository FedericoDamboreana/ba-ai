# ba-ai - Product Requirements Document

> AI-Powered Requirements Documentation Platform  
> Version 1.0 | January 2026

---

## 1. Overview

ba-ai helps Business Analysts create technical documentation through an AI-guided interview process. Users answer targeted questions generated by GPT-5, and the system produces professional documentation (User Stories, PRDs, etc.).

### Core Value Props

- Structured interview eliminates ad-hoc requirement gathering
- AI ensures comprehensive question coverage
- Contextual awareness across project documentation
- Professional output formats ready for immediate use
- Progress persistence allows non-linear completion

### Target User

Junior Business Analyst at an AI/ML consulting company. Works with German clients requiring formal, precise documentation. Responsible for user stories, project requirements, and technical specifications.

---

## 2. Core Workflow

```
1. User creates project (name, client, description)
2. User creates documentation item (type, title, brief description)
3. AI generates targeted questions based on context
4. Questions displayed as interactive list (NOT chat)
5. User answers questions (progress persists)
6. User clicks "Generate Documentation"
7. AI validates completeness → generates or asks more questions
8. Output displayed for preview, edit, copy, download
9. System updates project knowledge base
```

---

## 3. Documentation Types

| Type | Description | Output Format |
|------|-------------|---------------|
| **Project Requirements Document (PRD)** | High-level project overview: scope, objectives, stakeholders, constraints | Structured sections |
| **Epic Documentation** | Large feature sets: business value, scope, high-level requirements | Epic overview |
| **User Story + Acceptance Criteria** | Standard user story with BDD acceptance criteria | "As a...I want...So that..." + Given/When/Then |
| **Functional Requirements Specification (FRS)** | Detailed functional requirements for features/modules | Numbered requirements with priority |

---

## 4. Data Model

### Project

| Field | Type | Notes |
|-------|------|-------|
| id | INTEGER | PK, auto |
| name | VARCHAR(255) | Required |
| client | VARCHAR(255) | Optional |
| description | TEXT | Required |
| status | ENUM | Active, On Hold, Completed, Archived |
| knowledge_base | TEXT | AI-maintained context |
| created_at | DATETIME | |
| updated_at | DATETIME | |

### DocumentationItem

| Field | Type | Notes |
|-------|------|-------|
| id | INTEGER | PK, auto |
| project_id | INTEGER | FK → Project |
| type | ENUM | PRD, Epic, UserStory, FRS |
| title | VARCHAR(255) | Required |
| description | TEXT | Initial description |
| status | ENUM | Draft, InProgress, QuestionsComplete, Generated |
| deadline | DATE | Optional, triggers warning if < 3 days |
| generated_content | JSON | Final output |
| created_at | DATETIME | |
| updated_at | DATETIME | |

### Question

| Field | Type | Notes |
|-------|------|-------|
| id | INTEGER | PK, auto |
| doc_item_id | INTEGER | FK → DocumentationItem |
| parent_question_id | INTEGER | FK → Question, nullable (for conditionals) |
| question_text | TEXT | Required |
| question_type | ENUM | Text, MultipleChoice, Checkbox |
| options | JSON | For MC/Checkbox types |
| is_critical | BOOLEAN | If false, allows "N/A" |
| display_order | INTEGER | |
| answer | TEXT | User response |
| is_answered | BOOLEAN | |
| trigger_condition | JSON | When to show this question |

---

## 5. Functional Requirements

### 5.1 Project Management

| ID | Requirement | Priority |
|----|-------------|----------|
| FR-PM-001 | Create projects with name, client, description, status | Must |
| FR-PM-002 | List projects with status filtering | Must |
| FR-PM-003 | Edit project details | Must |
| FR-PM-004 | Archive projects (soft delete) | Must |
| FR-PM-005 | Permanently delete projects | Must |
| FR-PM-006 | Maintain project knowledge base (auto-updated) | Must |
| FR-PM-007 | Display doc count and completion status | Should |

### 5.2 Documentation Items

| ID | Requirement | Priority |
|----|-------------|----------|
| FR-DI-001 | Create documentation items within projects | Must |
| FR-DI-002 | Items have type, title, description, optional deadline | Must |
| FR-DI-003 | Show deadline warning when < 3 days | Should |
| FR-DI-004 | List all items for a project | Must |
| FR-DI-005 | Display item status | Must |
| FR-DI-006 | Duplicate items as templates | Could |

### 5.3 AI Question Generation

| ID | Requirement | Priority |
|----|-------------|----------|
| FR-AI-001 | Generate questions based on doc type and description | Must |
| FR-AI-002 | Include project context and knowledge base | Must |
| FR-AI-003 | Support text, multiple choice, checkbox questions | Must |
| FR-AI-004 | Avoid false dichotomies in MC questions | Must |
| FR-AI-005 | Support conditional/follow-up questions | Must |
| FR-AI-006 | Allow "N/A" for non-critical questions | Must |
| FR-AI-007 | Provide "Additional notes" field per question | Should |
| FR-AI-008 | Generate more questions if info gaps detected | Must |
| FR-AI-009 | Use structured outputs (JSON schema validation) | Must |

### 5.4 Question Interface

| ID | Requirement | Priority |
|----|-------------|----------|
| FR-QI-001 | Display questions as clickable list (NOT chat) | Must |
| FR-QI-002 | Show answered/unanswered status per question | Must |
| FR-QI-003 | Allow answering in any order | Must |
| FR-QI-004 | Persist progress across sessions | Must |
| FR-QI-005 | Allow editing previous answers | Must |
| FR-QI-006 | Enable "Generate" only when all required answered | Must |
| FR-QI-007 | Show progress indicator (e.g., "8/12 answered") | Should |

### 5.5 Documentation Generation

| ID | Requirement | Priority |
|----|-------------|----------|
| FR-DG-001 | Generate docs from answers + project context | Must |
| FR-DG-002 | Follow industry-standard formats per type | Must |
| FR-DG-003 | User Stories: "As a [user], I want [x], so that [y]" | Must |
| FR-DG-004 | Acceptance Criteria: BDD Given/When/Then | Must |
| FR-DG-005 | Display in editable preview | Must |
| FR-DG-006 | Copy button per field/section | Must |
| FR-DG-007 | Download as Word (.docx) | Must |
| FR-DG-008 | Regenerate with user feedback | Must |
| FR-DG-009 | Update knowledge base on completion | Must |

### 5.6 Knowledge Base

| ID | Requirement | Priority |
|----|-------------|----------|
| FR-KB-001 | Maintain internal "understanding doc" per project | Must |
| FR-KB-002 | Update after each doc item completion | Must |
| FR-KB-003 | Include in all AI prompts for project | Must |
| FR-KB-004 | Use to avoid redundant questions | Should |
| FR-KB-005 | Allow viewing (read-only) | Could |

---

## 6. Non-Functional Requirements

| ID | Category | Requirement |
|----|----------|-------------|
| NFR-001 | Language | All UI and prompts in English |
| NFR-002 | Tone | Formal, professional (German business clients) |
| NFR-003 | Responsive | Desktop-first, functional on mobile |
| NFR-004 | Performance | Page load < 3 seconds |
| NFR-005 | AI Response | Question generation < 10 seconds |
| NFR-006 | Persistence | SQLite local database |
| NFR-007 | Security | API keys in .env only |
| NFR-008 | Branding | Replace IT style (dark theme, purple #7C3AED) |
| NFR-009 | Browsers | Chrome, Firefox, Safari, Edge (latest) |

---

## 7. API Endpoints

### Projects

```
GET    /api/projects              # List (optional ?status=active)
POST   /api/projects              # Create
GET    /api/projects/{id}         # Get with knowledge base
PUT    /api/projects/{id}         # Update
DELETE /api/projects/{id}         # Delete
PATCH  /api/projects/{id}/archive # Toggle archive
```

### Documentation Items

```
GET    /api/projects/{id}/items   # List for project
POST   /api/projects/{id}/items   # Create + generate questions
GET    /api/items/{id}            # Get with questions
PUT    /api/items/{id}            # Update
DELETE /api/items/{id}            # Delete
```

### Questions

```
GET    /api/items/{id}/questions  # Get all questions
PUT    /api/questions/{id}        # Update answer
POST   /api/items/{id}/validate   # Check if ready or need more questions
```

### Generation

```
POST   /api/items/{id}/generate   # Generate documentation
POST   /api/items/{id}/regenerate # Regenerate with feedback
GET    /api/items/{id}/export     # Download as .docx
```

---

## 8. AI Prompts

### 8.1 Question Generation

**System Prompt:**
```
You are a senior Business Analyst assistant helping to gather requirements.
Generate relevant questions to fully understand the requirement being documented.
Maintain a formal, professional tone suitable for German business clients.

Context:
- Project: {project_name}
- Client: {client_name}
- Project Description: {project_description}
- Project Knowledge Base: {knowledge_base}
- Documentation Type: {doc_type}
- Item Title: {item_title}
- Item Description: {item_description}

Generate questions that will help create comprehensive {doc_type} documentation.
Consider existing context to avoid redundant questions.
```

**Response Schema:**
```json
{
  "questions": [
    {
      "question_text": "string",
      "question_type": "text | multiple_choice | checkbox",
      "options": ["string"] | null,
      "is_critical": true | false,
      "display_order": 1,
      "trigger_condition": {
        "parent_question_index": 0,
        "required_answer": "string | [string]"
      } | null
    }
  ]
}
```

### 8.2 Documentation Generation

**System Prompt:**
```
You are a senior Business Analyst creating {doc_type} documentation.
Maintain a formal, professional tone suitable for German business clients.

For User Stories:
- Use "As a [user], I want [feature], so that [benefit]"
- Write Acceptance Criteria in BDD/Gherkin (Given/When/Then)
- Include multiple scenarios: happy path + edge cases

Context:
- Project: {project_name}
- Client: {client_name}
- Knowledge Base: {knowledge_base}
- Item: {item_title}
- Description: {item_description}

Questions and Answers:
{formatted_qa_pairs}

{regeneration_feedback}
```

**User Story Response Schema:**
```json
{
  "title": "string",
  "user_story": {
    "as_a": "string",
    "i_want": "string",
    "so_that": "string"
  },
  "acceptance_criteria": [
    {
      "scenario_name": "string",
      "given": ["string"],
      "when": ["string"],
      "then": ["string"]
    }
  ],
  "notes": "string | null",
  "dependencies": ["string"] | null
}
```

### 8.3 Knowledge Base Update

**System Prompt:**
```
Update the project knowledge base after new documentation was created.
Summarize key information useful for future documentation.
Focus on: stakeholders, business rules, constraints, terminology, decisions.

Current Knowledge Base:
{current_knowledge_base}

New Documentation:
Type: {doc_type}
Title: {item_title}
Content: {generated_content}
Q&A: {qa_pairs}

Integrate new info, preserve existing context, avoid duplication.
```

---

## 9. UI Specifications

### Color Palette

| Name | Hex | Usage |
|------|-----|-------|
| Primary | #7C3AED | Buttons, links, accents |
| Primary Light | #A78BFA | Hover states |
| Background | #0F0D1A | Main background |
| Surface | #1E1B2E | Cards, modals |
| Text Primary | #FFFFFF | Primary text |
| Text Secondary | #A1A1AA | Secondary text |
| Success | #10B981 | Completed states |
| Warning | #F59E0B | Deadline warnings |
| Error | #EF4444 | Errors |

### Typography

| Element | Font | Size | Weight |
|---------|------|------|--------|
| H1 | Inter | 32px | Bold |
| H2 | Inter | 24px | Semibold |
| H3 | Inter | 18px | Semibold |
| Body | Inter | 14px | Regular |
| Code | JetBrains Mono | 13px | Regular |

### Key Screens

**Projects List:**
- Header with logo
- Filter tabs: All, Active, Archived
- Project cards: name, client, status badge, doc count, last updated
- "New Project" button
- Empty state illustration

**Project Detail:**
- Breadcrumb navigation
- Project header with actions (edit/archive/delete)
- Documentation items list with status + deadline warnings
- "New Documentation" dropdown
- Knowledge Base preview (collapsible)

**Questions Interface:**
- Item header with title, type, progress (8/12)
- Vertical list of question rows:
  - Status indicator (green ✓ / gray ○ / yellow conditional)
  - Question text
  - Answer preview when answered
- Click row → expand inline answer form
- Fixed footer: "Generate Documentation" button

**Documentation Preview:**
- Two-column: nav sidebar + content
- Each field: label, content, copy button
- Click-to-edit on all fields
- BDD scenarios in code blocks with highlighting
- Actions: Download Word, Regenerate, Back to Questions
- Regenerate modal with feedback textarea

---

## 10. User Stories

### US-001: Create New Project

**As a** Business Analyst  
**I want** to create a new project with basic information  
**So that** I can organize my documentation work by client and initiative

**Acceptance Criteria:**

```gherkin
Scenario: Successfully create project
  Given I am on the Projects list page
  When I click "New Project"
  And I enter "Client Portal Redesign" as project name
  And I enter "Acme Corp" as client
  And I enter a description
  And I select "Active" status
  And I click "Create Project"
  Then the project is created
  And I am redirected to project detail page
  And the project appears in my list

Scenario: Validation error for missing name
  Given I am on "New Project" form
  When I leave project name empty
  And I click "Create Project"
  Then I see error "Project name is required"
  And the project is not created
```

### US-002: Create Documentation Item

**As a** Business Analyst  
**I want** to create a documentation item within a project  
**So that** I can start gathering requirements for a specific feature

**Acceptance Criteria:**

```gherkin
Scenario: Create User Story item
  Given I am on a project detail page
  When I click "New Documentation"
  And I select "User Story + Acceptance Criteria"
  And I enter "User Login" as title
  And I enter "Users should log in securely" as description
  And I optionally set a deadline
  And I click "Start Documentation"
  Then the item is created with status "In Progress"
  And I see AI-generated questions
```

### US-003: Answer Documentation Questions

**As a** Business Analyst  
**I want** to answer questions in a structured way  
**So that** the AI can gather enough information

**Acceptance Criteria:**

```gherkin
Scenario: Answer text question
  Given I am viewing questions for a doc item
  And there is unanswered question "Who are the primary users?"
  When I click on the question row
  Then I see expanded input area
  When I enter "Internal employees and external contractors"
  And I click "Save Answer"
  Then the question is marked answered (green)
  And progress counter updates

Scenario: Answer triggers follow-up
  Given I answered "Yes" to "Does this require authentication?"
  When I save my answer
  Then new question appears: "What authentication methods?"
  And total question count increases

Scenario: Mark non-critical as N/A
  Given I am viewing a non-critical question
  When I select "Not Applicable"
  And I click "Save"
  Then question is marked complete
  And it doesn't block generation
```

### US-004: Generate Documentation

**As a** Business Analyst  
**I want** to generate professional documentation from my answers  
**So that** I can share well-formatted requirements with my team

**Acceptance Criteria:**

```gherkin
Scenario: Generate when all answered
  Given all required questions are answered
  And "Generate Documentation" is enabled
  When I click "Generate Documentation"
  Then system checks if more info needed
  When sufficient info available
  Then I see loading indicator
  And generated doc displays in preview

Scenario: More questions needed
  Given I click "Generate Documentation"
  When AI determines more info needed
  Then new questions are added
  And I see "Additional questions required" notification
  And doc is not generated yet
```

### US-005: Edit and Export Documentation

**As a** Business Analyst  
**I want** to edit and export generated documentation  
**So that** I can make adjustments and share with stakeholders

**Acceptance Criteria:**

```gherkin
Scenario: Edit generated doc
  Given I am viewing generated doc preview
  When I click on a field
  Then field becomes editable
  When I modify and click outside
  Then changes save automatically

Scenario: Copy individual fields
  Given I am viewing generated doc
  When I click "Copy" next to User Story
  Then text copies to clipboard
  And I see "Copied!" confirmation

Scenario: Download as Word
  Given I am viewing generated doc
  When I click "Download as Word"
  Then .docx file downloads
  And contains all doc with proper formatting
```

### US-006: Regenerate with Feedback

**As a** Business Analyst  
**I want** to regenerate documentation with specific feedback  
**So that** I can improve output without starting over

**Acceptance Criteria:**

```gherkin
Scenario: Regenerate with feedback
  Given I am viewing generated doc
  And not satisfied with acceptance criteria
  When I click "Regenerate"
  Then I see feedback input modal
  When I enter "Make AC more detailed with edge cases"
  And I click "Regenerate with Feedback"
  Then AI generates new doc considering feedback
  And previous version is replaced
```

---

## 11. Glossary

| Term | Definition |
|------|------------|
| **BDD** | Behavior-Driven Development - tests in natural language (Given/When/Then) |
| **Gherkin** | Domain-specific language for BDD scenarios |
| **User Story** | Feature description from end-user perspective |
| **Acceptance Criteria** | Conditions for a story to be considered complete |
| **Epic** | Large work body broken into smaller stories |
| **PRD** | Product Requirements Document |
| **FRS** | Functional Requirements Specification |
| **Knowledge Base** | AI-maintained summary of project context |
| **Structured Output** | AI response conforming to JSON schema |